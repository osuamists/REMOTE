#include <IRremote.h>

IRsend irsend;

const unsigned int AC_irSignal1[] PROGMEM ={8440,4284,504,584,504,1672,504,1672,508,580,504,1672,504,584,504,1672,508,580,504,584,504,1672,504,584,504,580,508,1672,504,1672,504,1672,508,584,504,580,508,580,504,584,504,584,504,580,508,580,504,580,508,580,504,584,504,584,504,584,528,556,504,584,504,580,504,584,504,584,504,1672,504,584,500,584,528,560,504,580,504,1672,504,584,504,584,508,580,504,1672,504,584,500,1672,508,1672,504,584,504,584,504,580,504,584,504,584,504,580,504,584,504,580,504,584,504,580,504,584,504,584,500,584,504,584,500,584,504,584,504,580,508,580,504,584,504,580,508,580,504,1672,508,1668,508,580,504,584,504,580,504,584,504,580,508,580,504,584,504,580,504,580,504,584,504,580,504,584,504,580,508,580,504,1676,500,1680,496,584,500,584,504,584,500596,488,616,472,1688,488,616,472,616,468,1712,468,1708,468,620,468,620,468,620,468,1708,468,620,468,1712,468,620,468,1708,468,620,468,620,468,620,468,620468,1708,472,1708,468,620,468,616,468,620,468,620,468,1712,464,1712,468,1712,468,616,468,1712,464,624,464,1712,468,616,468};

const unsigned int AC_irSignal2[] PROGMEM ={8440,4284,504,584,504,1672,504,1672,508,580,504,1672,504,584,504,1672,508,580,504,584,504,1672,504,584,504,580,508,1672,504,1672,504,1672,508,584,504,580,508,580,504,584,504,584,504,580,508,580,504,580,508,580,504,584,504,584,504,584,528,556,504,584,504,580,504,584,504,584,504,1672,504,584,500,584,528,560,504,580,504,1672,504,584,504,584,508,580,504,1672,504,584,500,1672,508,1672,504,584,504,584,504,580,504,584,504,584,504,580,504,584,504,580,504,584,504,580,504,584,504,584,500,584,504,584,500,584,504,584,504,580,508,580,504,584,504,580,508,580,504,1672,508,1668,508,580,504,584,504,580,504,584,504,580,508,580,504,584,504,580,504,580,504,584,504,580,504,584,504,580,508,580,504,1676,500,1680,496,584,500,584,504,584,500596,488,616,472,1688,488,616,472,616,468,1712,468,1708,468,620,468,620,468,620,468,1708,468,620,468,1712,468,620,468,1708,468,620,468,620,468,620,468,620468,1708,472,1708,468,620,468,616,468,620,468,620,468,1712,464,1712,468,1712,468,616,468,1712,464,624,464,1712,468,616,468};

const unsigned int AC_irSignal3[] PROGMEM ={8440,4284,504,584,504,1672,504,1672,508,580,504,1672,504,584,504,1672,508,580,504,584,504,1672,504,584,504,580,508,1672,504,1672,504,1672,508,584,504,580,508,580,504,584,504,584,504,580,508,580,504,580,508,580,504,584,504,584,504,584,528,556,504,584,504,580,504,584,504,584,504,1672,504,584,500,584,528,560,504,580,504,1672,504,584,504,584,508,580,504,1672,504,584,500,1672,508,1672,504,584,504,584,504,580,504,584,504,584,504,580,504,584,504,580,504,584,504,580,504,584,504,584,500,584,504,584,500,584,504,584,504,580,508,580,504,584,504,580,508,580,504,1672,508,1668,508,580,504,584,504,580,504,584,504,580,508,580,504,584,504,580,504,580,504,584,504,580,504,584,504,580,508,580,504,1676,500,1680,496,584,500,584,504,584,500596,488,616,472,1688,488,616,472,616,468,1712,468,1708,468,620,468,620,468,620,468,1708,468,620,468,1712,468,620,468,1708,468,620,468,620,468,620,468,620468,1708,472,1708,468,620,468,616,468,620,468,620,468,1712,464,1712,468,1712,468,616,468,1712,464,624,464,1712,468,616,468};

const unsigned int AC_irSignal4[] PROGMEM ={8440,4284,504,584,504,1672,504,1672,508,580,504,1672,504,584,504,1672,508,580,504,584,504,1672,504,584,504,580,508,1672,504,1672,504,1672,508,584,504,580,508,580,504,584,504,584,504,580,508,580,504,580,508,580,504,584,504,584,504,584,528,556,504,584,504,580,504,584,504,584,504,1672,504,584,500,584,528,560,504,580,504,1672,504,584,504,584,508,580,504,1672,504,584,500,1672,508,1672,504,584,504,584,504,580,504,584,504,584,504,580,504,584,504,580,504,584,504,580,504,584,504,584,500,584,504,584,500,584,504,584,504,580,508,580,504,584,504,580,508,580,504,1672,508,1668,508,580,504,584,504,580,504,584,504,580,508,580,504,584,504,580,504,580,504,584,504,580,504,584,504,580,508,580,504,1676,500,1680,496,584,500,584,504,584,500596,488,616,472,1688,488,616,472,616,468,1712,468,1708,468,620,468,620,468,620,468,1708,468,620,468,1712,468,620,468,1708,468,620,468,620,468,620,468,620468,1708,472,1708,468,620,468,616,468,620,468,620,468,1712,464,1712,468,1712,468,616,468,1712,464,624,464,1712,468,616,468};

const unsigned int AC_irSignal5[] PROGMEM ={8440,4284,504,584,504,1672,504,1672,508,580,504,1672,504,584,504,1672,508,580,504,584,504,1672,504,584,504,580,508,1672,504,1672,504,1672,508,584,504,580,508,580,504,584,504,584,504,580,508,580,504,580,508,580,504,584,504,584,504,584,528,556,504,584,504,580,504,584,504,584,504,1672,504,584,500,584,528,560,504,580,504,1672,504,584,504,584,508,580,504,1672,504,584,500,1672,508,1672,504,584,504,584,504,580,504,584,504,584,504,580,504,584,504,580,504,584,504,580,504,584,504,584,500,584,504,584,500,584,504,584,504,580,508,580,504,584,504,580,508,580,504,1672,508,1668,508,580,504,584,504,580,504,584,504,580,508,580,504,584,504,580,504,580,504,584,504,580,504,584,504,580,508,580,504,1676,500,1680,496,584,500,584,504,584,500596,488,616,472,1688,488,616,472,616,468,1712,468,1708,468,620,468,620,468,620,468,1708,468,620,468,1712,468,620,468,1708,468,620,468,620,468,620,468,620468,1708,472,1708,468,620,468,616,468,620,468,620,468,1712,464,1712,468,1712,468,616,468,1712,464,624,464,1712,468,616,468};


void setup() {
  //insert your own setup code here
}

void loop() {
  //replace this with your own code.
  while (true){ //loop forever sending the test signals, with 5 second gaps
  sendRAW_Flash(AC_irSignal1, sizeof(AC_irSignal1)/sizeof(int),33); //send AC signal #1 @ 33kHz
  delay(5000); //a good idea to have gaps between signals
  
  sendRAW_Flash(AC_irSignal2, sizeof(AC_irSignal2)/sizeof(int),36); //send AC signal #2 @ 36kHz
  delay(5000); //a good idea to have gaps between signals
  
  sendRAW_Flash(AC_irSignal3, sizeof(AC_irSignal3)/sizeof(int),38); //send AC signal #3 @ 38kHz
  delay(5000); //a good idea to have gaps between signals
  
  sendRAW_Flash(AC_irSignal4, sizeof(AC_irSignal4)/sizeof(int),40); //send AC signal #4 @ 40kHz
  delay(5000); //a good idea to have gaps between signals
  
  sendRAW_Flash(AC_irSignal5, sizeof(AC_irSignal5)/sizeof(int),56); //send AC signal #3 @ 56kHz
  delay(5000); //a good idea to have gaps between signals
  }
  delay(5000);
}

void sendRAW_Flash(const unsigned int * signalArray, unsigned int signalLength, unsigned char carrierFreq) {

  irsend.enableIROut(carrierFreq); //initialise the carrier frequency for each signal to be sent
  
  for (unsigned int i=0;i<signalLength;i++){
    //tmp=pgm_read_word_near(&signalArray[i]);
   // tmp=cleanPanasonic(tmp); //not needed
    if (i & 1) irsend.space(pgm_read_word_near(&signalArray[i]));
    else irsend.mark(pgm_read_word_near(&signalArray[i]));
  }
  irsend.space(1);//make sure IR is turned off at end of signal

}
